<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<script src="image_recognition/opencv.js"></script>    
<script src="image_recognition/recognition.js"></script>


<title>Image testing</title>
</head>

<body>

</body>

<script>
    function init(event) {
        function drawCanvas() {

            let canvas = document.createElement("canvas");
            let context = canvas.getContext("2d");

            canvas.width = image.width;
            canvas.height = image.height;

            context.drawImage(image, 0, 0);
            let imgData = context.getImageData(0, 0, canvas.width-1, canvas.height-1);

            grid = getGridFromImage(imgData)
            console.log(grid)
        }

        var image = new Image()
        // image.crossOrigin = "anonymous"
        image.src = "image.png"
        drawCanvas()


    }

    window.addEventListener('load', init, false);
</script>

</html> 